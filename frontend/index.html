<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Escoba - Spanish Card Game</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1>ðŸŽ´ La Escoba</h1>
                    <p class="subtitle">Classic Spanish Card Game</p>
                </div>
                <nav class="nav">
                    <button id="loginBtn" class="btn btn-primary">Login</button>
                    <button id="registerBtn" class="btn btn-secondary">Sign Up</button>
                    <button id="playBtn" class="btn btn-success" style="display:none">Play Now</button>
                    <button id="profileBtn" class="btn btn-info" style="display:none">Profile</button>
                    <button id="logoutBtn" class="btn btn-danger" style="display:none">Logout</button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Welcome Section -->
            <section id="welcome" class="section active">
                <div class="welcome-container">
                    <!-- Hero Section -->
                    <div class="hero-section">
                        <h2>Welcome to La Escoba</h2>
                        <p class="hero-subtitle">The classic Spanish card game. Challenging, strategic, and addictive.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-lg btn-primary" onclick="document.getElementById('loginBtn').click()">Play Now</button>
                            <button class="btn btn-lg btn-outline" onclick="showRules()">View Rules</button>
                        </div>
                    </div>

                    <!-- Game Modes Section -->
                    <section class="game-modes">
                        <h3>Game Modes</h3>
                        <div class="modes-grid">
                            <div class="mode-card">
                                <div class="mode-icon">â™ </div>
                                <h4>Classic</h4>
                                <p>The traditional Escoba mode. Play against another player and defeat their cards.</p>
                            </div>
                            <div class="mode-card">
                                <div class="mode-icon">â™¥</div>
                                <h4>Win-Lose</h4>
                                <p>A challenging variant where the rules change. Stay alert!</p>
                            </div>
                            <div class="mode-card">
                                <div class="mode-icon">â™¦</div>
                                <h4>Strategic</h4>
                                <p>Advanced mode that requires planning. Only for the best players!</p>
                            </div>
                        </div>
                    </section>

                    <!-- Spanish Cards Section -->
                    <section class="cards-section">
                        <h3>The Spanish Deck</h3>
                        <div class="suits-grid">
                            <div class="suit-group">
                                <div class="suit-icon oros">â™¦</div>
                                <p>Coins</p>
                                <span>Value: 1-12</span>
                            </div>
                            <div class="suit-group">
                                <div class="suit-icon copas">â™¥</div>
                                <p>Cups</p>
                                <span>Value: 1-12</span>
                            </div>
                            <div class="suit-group">
                                <div class="suit-icon espadas">â™ </div>
                                <p>Swords</p>
                                <span>Value: 1-12</span>
                            </div>
                            <div class="suit-group">
                                <div class="suit-icon bastos">â™£</div>
                                <p>Clubs</p>
                                <span>Value: 1-12</span>
                            </div>
                        </div>
                    </section>

                    <!-- How to Play Section -->
                    <section class="gameplay-section">
                        <h3>How to Play</h3>
                        <div class="gameplay-content">
                            <div class="gameplay-step">
                                <div class="step-number">1</div>
                                <h4>Deal 3 Cards</h4>
                                <p>Each player receives 3 cards and 4 are placed on the table.</p>
                            </div>
                            <div class="gameplay-step">
                                <div class="step-number">2</div>
                                <h4>Sum the Cards</h4>
                                <p>You must add your cards with those on the table to make 15 points.</p>
                            </div>
                            <div class="gameplay-step">
                                <div class="step-number">3</div>
                                <h4>Collect Cards</h4>
                                <p>If you successfully sum to 15, collect those cards. If not, leave a card.</p>
                            </div>
                            <div class="gameplay-step">
                                <div class="step-number">4</div>
                                <h4>Win the Match</h4>
                                <p>The player who collects the most cards wins. A sweep gives 1 extra point!</p>
                            </div>
                        </div>
                    </section>

                    <!-- Rules Section -->
                    <section id="rulesSection" class="rules-section" style="display:none">
                        <h3>Main Rules</h3>
                        <div class="rules-container">
                            <div class="rule-item">
                                <h4>Game Objective</h4>
                                <p>Collect as many cards as possible by combining yours with those on the table to sum 15 points. A sweep (collecting all cards from the table) adds 1 extra point.</p>
                            </div>
                            <div class="rule-item">
                                <h4>The Deck</h4>
                                <p>Played with a 40-card Spanish deck (4 suits of 10 cards each: Coins, Cups, Swords and Clubs). Values range from 1 to 10, where Ace = 1, Jack = 10, Knight = 11 and King = 12.</p>
                            </div>
                            <div class="rule-item">
                                <h4>Card Distribution</h4>
                                <p>3 cards are dealt to each player and 4 on the table at the start. When a player plays, their cards are replenished to 3.</p>
                            </div>
                            <div class="rule-item">
                                <h4>Scoring</h4>
                                <p>Points are awarded for cards collected, sweeps made, and special value cards. Various variants modify these rules to make it more interesting.</p>
                            </div>
                            <div class="rule-item">
                                <h4>Valid Plays</h4>
                                <p>You can only collect cards if the sum is exactly 15. If you cannot make any combination, you must drop a card on the table.</p>
                            </div>
                        </div>
                    </section>
                </div>
            </section>

            <!-- Game Interface (dynamically loaded) -->
            <section id="gameSection" class="section" style="display:none">
                <div class="game-container" id="gameContainer">
                    <!-- Game content loaded by JavaScript -->
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>La Escoba</h4>
                    <p>The classic Spanish card game brought to the internet.</p>
                </div>
                <div class="footer-section">
                    <h4>Links</h4>
                    <ul>
                        <li><a href="#" onclick="showRules()">Game Rules</a></li>
                        <li><a href="#" onclick="showAbout()">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ASE Project</h4>
                    <p>Â© 2025 La Escoba. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript Files -->
    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/game.js"></script>
    <script src="js/database-viewer.js"></script>
    
    <script>
        // Simple utility functions for the frontend
        function showRules() {
            document.getElementById('rulesSection').style.display = 'block';
            document.getElementById('rulesSection').scrollIntoView({behavior: 'smooth'});
        }

        function showAbout() {
            alert('La Escoba - Advanced Software Engineering Project 2025\n\nA microservices-based implementation of the classic Spanish card game.');
        }

        // Initialize auth manager when page loads
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof authManager !== 'undefined') {
                authManager.updateUI();
            }
        });
    </script>
</body>
</html>